<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Visualize your browser history as an interactive map. Privacy-first, client-side processing with browser extension support.">
    <meta name="keywords" content="browser history, data visualization, privacy, map, web analytics, browser extension">
    <meta name="author" content="Browser History Map Explorer">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Browser History Map Explorer">
    <meta property="og:description" content="Visualize your browsing journey as an interactive map with our browser extension or manual upload">
    <meta property="og:url" content="https://shikhary.github.io/browser-history-map">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAA">
    <title>Browser History Map Explorer</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ—ºï¸ Browser History Map Explorer</h1>
            <p>Visualize your browsing journey as an interactive map</p>
            <div class="header-badges">
                <span class="badge">ğŸ”’ Privacy-First</span>
                <span class="badge">ğŸš€ Extension Support</span>
                <span class="badge">ğŸ“Š Interactive</span>
            </div>
        </header>

        <div class="upload-section">
            <!-- Quick Access Methods -->
            <div class="quick-access-section">
                <h3>ğŸš€ Choose Your Method</h3>
                <div class="access-methods">
                    <div class="method-card featured">
                        <div class="method-icon">ğŸ”—</div>
                        <h4>Browser Extension</h4>
                        <p>One-click export with full privacy protection</p>
                        <button id="installExtension" class="method-btn">ğŸ“¥ Get Extension</button>
                        <small class="method-note">Recommended for best experience</small>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-icon">ğŸ“‹</div>
                        <h4>Smart Copy-Paste</h4>
                        <p>Intelligent URL detection with helpful shortcuts</p>
                        <button id="pasteUrls" class="method-btn">Smart Paste</button>
                        <small class="method-note">Auto-detects clipboard URLs</small>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-icon">ğŸ”</div>
                        <h4>Limited Auto-Access</h4>
                        <p>Try accessing limited browser data (demo purposes)</p>
                        <button id="accessChromeHistory" class="method-btn">ğŸ” Try Limited Access</button>
                        <small class="method-note">Shows 1-3 URLs only</small>
                    </div>
                </div>
            </div>

            <!-- URL Paste Area (Hidden by default) -->
            <div class="url-paste-section" id="urlPasteSection" style="display: none;">
                <h3>ğŸ“‹ Paste Your URLs</h3>
                <div class="smart-paste-tools">
                    <button onclick="browserHistoryMap.checkClipboardForUrls()" class="smart-btn">ğŸ“‹ Auto-Detect Clipboard URLs</button>
                    <button onclick="browserHistoryMap.generateSampleUrls()" class="smart-btn">ğŸŒŸ Add Popular Sites</button>
                </div>
                <div class="browser-suggestion" id="browserSuggestion">
                    <p><strong>ğŸ’¡ Quick Tip:</strong> <span id="suggestionText">Open a new tab in your browser and copy URLs from the start page!</span></p>
                </div>
                <textarea id="urlTextarea" placeholder="Paste your URLs here, one per line:
https://google.com
https://youtube.com
https://github.com
...

ğŸ’¡ Tips:
â€¢ Copy from browser's new tab page
â€¢ Export bookmarks and paste URLs
â€¢ Copy from address bar history suggestions
â€¢ Paste any list of websites you visit"></textarea>
                <div class="paste-controls">
                    <button id="processUrls" class="demo-btn">ğŸ” Process URLs</button>
                    <button id="cancelPaste" class="cancel-btn">Cancel</button>
                </div>
            </div>

            <!-- Traditional File Upload -->
            <div class="upload-area" id="uploadArea">
                <div class="upload-content">
                    <svg class="upload-icon" viewBox="0 0 24 24" width="48" height="48">
                        <path fill="currentColor" d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
                    </svg>
                    <h3>Or Upload a File</h3>
                    <p>Drop your browser history file here or click to browse</p>
                    <input type="file" id="fileInput" accept=".json,.csv,.txt" multiple>
                    <div class="file-format-info">
                        <small>Supported formats: JSON, CSV, TXT (max 10MB)</small>
                    </div>
                </div>
            </div>
            
            <div class="demo-section">
                <button id="loadDemoData" class="demo-btn">ğŸ“Š Try with Demo Data</button>
                <div class="extension-detected" id="extensionDetected" style="display: none;">
                    <button id="loadFromExtension" class="demo-btn">ğŸ”— Load from Extension</button>
                </div>
            </div>
        </div>

        <div class="controls-section" id="controlsSection" style="display: none;">
            <div class="controls">
                <div class="filter-group">
                    <label for="timeRange">Time Range:</label>
                    <select id="timeRange">
                        <option value="all">All Time</option>
                        <option value="7">Last 7 Days</option>
                        <option value="30">Last 30 Days</option>
                        <option value="90">Last 3 Months</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="siteFilter">Filter Sites:</label>
                    <input type="text" id="siteFilter" placeholder="Search domains...">
                </div>
                
                <div class="filter-group">
                    <button id="resetView" class="control-btn">ğŸ”„ Reset View</button>
                    <button id="exportData" class="control-btn">ğŸ’¾ Export</button>
                </div>
            </div>
        </div>

        <div class="map-container" id="mapContainer" style="display: none;">
            <div class="map-header">
                <h2>Your Browsing Journey</h2>
                <div class="stats" id="stats">
                    <span id="totalSites">0 sites</span> â€¢ 
                    <span id="totalVisits">0 visits</span> â€¢ 
                    <span id="timeSpan">0 days</span>
                </div>
            </div>
            <div id="map"></div>
            
            <div class="legend">
                <h4>Legend</h4>
                <div class="legend-item">
                    <div class="legend-color" style="background: #d73027;"></div>
                    <span>Very High Activity (20+ visits)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ff6b6b;"></div>
                    <span>High Activity (10+ visits)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #4ecdc4;"></div>
                    <span>Medium Activity (5-9 visits)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #45b7d1;"></div>
                    <span>Low Activity (1-4 visits)</span>
                </div>
            </div>
        </div>

        <div class="instructions" id="instructions">
            <h3>ğŸš€ Super Easy Ways to Get Your Browsing Data</h3>
            
            <div class="method-tabs">
                <button class="tab-btn active" onclick="showTab('extension')">ğŸ”— Extension (Recommended)</button>
                <button class="tab-btn" onclick="showTab('manual')">ğŸ“‹ Manual Methods</button>
                <button class="tab-btn" onclick="showTab('upload')">ğŸ“ File Upload</button>
            </div>

            <div id="extension-tab" class="tab-content active">
                <div class="extension-info">
                    <h4>ğŸ¯ Browser Extension - The Best Experience</h4>
                    <div class="extension-benefits">
                        <div class="benefit-card">
                            <div class="benefit-icon">âš¡</div>
                            <div class="benefit-text">
                                <strong>One-Click Export</strong>
                                <p>Export your entire browsing history with a single click</p>
                            </div>
                        </div>
                        <div class="benefit-card">
                            <div class="benefit-icon">ğŸ”’</div>
                            <div class="benefit-text">
                                <strong>100% Private</strong>
                                <p>Data never leaves your device - completely secure</p>
                            </div>
                        </div>
                        <div class="benefit-card">
                            <div class="benefit-icon">ğŸ¯</div>
                            <div class="benefit-text">
                                <strong>Smart Filtering</strong>
                                <p>Choose date ranges and auto-exclude sensitive data</p>
                            </div>
                        </div>
                        <div class="benefit-card">
                            <div class="benefit-icon">ğŸš€</div>
                            <div class="benefit-text">
                                <strong>Direct Integration</strong>
                                <p>Automatically opens the visualization in this web app</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="installation-guide">
                        <h4>ğŸ“¦ Quick Installation (2 minutes)</h4>
                        <ol class="install-steps">
                            <li>
                                <strong>Download:</strong> 
                                <a href="https://github.com/ShikharY/browser-history-map/archive/main.zip" target="_blank" class="download-link">
                                    ğŸ“¥ Download Extension Package
                                </a>
                            </li>
                            <li><strong>Extract:</strong> Unzip the downloaded file</li>
                            <li><strong>Install:</strong> Go to <code>chrome://extensions/</code> in Chrome/Edge</li>
                            <li><strong>Enable:</strong> Turn on "Developer mode" (top right)</li>
                            <li><strong>Load:</strong> Click "Load unpacked" â†’ select the browser-extension folder</li>
                            <li><strong>Use:</strong> Click the extension icon and export your data!</li>
                        </ol>
                    </div>
                </div>
            </div>

            <div id="manual-tab" class="tab-content">
                <div class="easy-methods">
                    <div class="easy-method-card">
                        <h4>âš¡ Instant Methods (30 seconds!)</h4>
                        <ul>
                            <li><strong>ğŸ  New Tab Magic:</strong> Open a new tab, copy URLs from "Most visited" or "Top sites" tiles</li>
                            <li><strong>ğŸ“ Address Bar Trick:</strong> Type a letter in your address bar, copy suggested URLs</li>
                            <li><strong>ğŸ“‹ Smart Paste:</strong> Use our clipboard detection to automatically find URLs</li>
                            <li><strong>ğŸ”– Bookmark Export:</strong> Export bookmarks as HTML and copy the URLs</li>
                        </ul>
                    </div>

                    <div class="easy-method-card">
                        <h4>ğŸ§  Smart Tips</h4>
                        <ul>
                            <li>Our app auto-detects your browser and shows specific instructions</li>
                            <li>Clipboard detection automatically finds URLs you've copied</li>
                            <li>Popular sites suggestions help you get started quickly</li>
                            <li>No downloads, exports, or complicated steps required!</li>
                        </ul>
                    </div>
                </div>

                <div class="traditional-methods">
                    <h4>ğŸ”§ Traditional Methods (If You Want Full History)</h4>
                    <div class="browser-instructions">
                        <div class="browser-card">
                            <h4>ğŸŒ Chrome/Edge</h4>
                            <ol>
                                <li>Press Ctrl+H to open history</li>
                                <li>Right-click entries and "Copy link address"</li>
                                <li>Or use Google Takeout for full data export</li>
                                <li>Paste URLs using our smart paste feature above</li>
                            </ol>
                        </div>
                        
                        <div class="browser-card">
                            <h4>ğŸ¦Š Firefox</h4>
                            <ol>
                                <li>Press Ctrl+Shift+H for Library view</li>
                                <li>Right-click entries and "Copy link location"</li>
                                <li>Or export bookmarks to HTML format</li>
                                <li>Use our smart paste to process the URLs</li>
                            </ol>
                        </div>
                        
                        <div class="browser-card">
                            <h4>ğŸ§­ Safari</h4>
                            <ol>
                                <li>Go to History â†’ Show All History</li>
                                <li>Right-click entries to copy URLs</li>
                                <li>Export Reading List and bookmarks</li>
                                <li>Use our clipboard detection feature</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <div id="upload-tab" class="tab-content">
                <div class="upload-instructions">
                    <h4>ğŸ“ File Upload Instructions</h4>
                    <p>If you have exported your browser history as a file, you can upload it directly:</p>
                    
                    <div class="file-formats">
                        <div class="format-card">
                            <h5>ğŸ“„ JSON Format</h5>
                            <p>Most browser extensions and export tools create JSON files</p>
                            <code>{"url": "https://example.com", "title": "Example", "visit_count": 5}</code>
                        </div>
                        
                        <div class="format-card">
                            <h5>ğŸ“Š CSV Format</h5>
                            <p>Spreadsheet-friendly format with headers</p>
                            <code>url,title,visit_count,last_visit_time</code>
                        </div>
                        
                        <div class="format-card">
                            <h5>ğŸ“ TXT Format</h5>
                            <p>Simple text file with one URL per line</p>
                            <code>https://example.com<br>https://another-site.com</code>
                        </div>
                    </div>
                </div>
            </div>

            <div class="privacy-note">
                <h4>ğŸ”’ Privacy First, Always</h4>
                <p>Your browsing data never leaves your device. Everything is processed locally in your browser. We've designed these methods to be as privacy-friendly as possible while still being incredibly easy to use!</p>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
    <script>
        // Tab switching functionality
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }
    </script>
</body>
</html>